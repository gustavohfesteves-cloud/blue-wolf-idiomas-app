<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Activity 1 - Choice</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body { font-family: 'Orbitron', sans-serif; background-color: #0f172a; }
        
        /* Animações de Feedback */
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }
        .shake-error { animation: shake 0.4s ease-in-out; border-color: #ef4444 !important; }
        
        @keyframes success-pop {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); box-shadow: 0 0 30px #22c55e; }
            100% { transform: scale(1); }
        }
        .success-anim { animation: success-pop 0.5s ease-in-out; border-color: #22c55e !important; background-color: rgba(34, 197, 94, 0.2); }

        .card-option {
            transition: all 0.2s;
            border: 4px solid transparent;
        }
        .card-selected {
            border-color: #22d3ee; /* Cyan */
            background-color: rgba(34, 211, 238, 0.1);
            transform: scale(1.02);
        }
    </style>
</head>
<body class="h-screen flex flex-col items-center justify-between py-6 px-4">

    <div class="w-full max-w-md h-2 bg-slate-800 rounded-full mb-4">
        <div class="w-1/3 h-full bg-cyan-500 rounded-full shadow-[0_0_10px_cyan]"></div>
    </div>

    <div class="flex items-center gap-3 mb-4">
        <button onclick="playAudio()" class="w-10 h-10 bg-cyan-600 rounded-full flex items-center justify-center text-white shadow-lg active:scale-95">
            <i class="fa-solid fa-volume-high"></i>
        </button>
        <h1 class="text-4xl font-bold text-cyan-400 tracking-wider drop-shadow-md">WATER</h1>
    </div>

    <div class="grid grid-cols-2 gap-4 w-full max-w-md flex-1">
        <div onclick="selectOption(1)" id="opt-1" class="card-option bg-white rounded-2xl overflow-hidden cursor-pointer shadow-lg relative h-40">
            <img src="coffee.jpeg" class="w-full h-full object-cover"> </div>
        <div onclick="selectOption(2)" id="opt-2" class="card-option bg-white rounded-2xl overflow-hidden cursor-pointer shadow-lg relative h-40">
            <img src="water.jpeg" class="w-full h-full object-cover"> </div>
        <div onclick="selectOption(3)" id="opt-3" class="card-option bg-white rounded-2xl overflow-hidden cursor-pointer shadow-lg relative h-40">
            <img src="tea.jpeg" class="w-full h-full object-cover"> </div>
        <div onclick="selectOption(4)" id="opt-4" class="card-option bg-white rounded-2xl overflow-hidden cursor-pointer shadow-lg relative h-40">
            <img src="milk.jpeg" class="w-full h-full object-cover"> </div>
    </div>

    <button onclick="checkAnswer()" id="btn-verify" class="w-full max-w-md mt-6 py-4 bg-slate-700 text-slate-400 font-bold text-xl rounded-xl uppercase tracking-widest transition-all cursor-not-allowed" disabled>
        VERIFY
    </button>

    <div id="success-overlay" class="fixed inset-0 bg-green-500/90 z-50 hidden flex-col items-center justify-center">
        <h2 class="text-6xl font-black text-white mb-4 animate-bounce">EXCELLENT!</h2>
        <i class="fa-solid fa-check-circle text-8xl text-white drop-shadow-lg"></i>
    </div>

    <script>
        // CONFIGURAÇÃO DO NÍVEL (Edite Aqui)
        const correctAnswerIndex = 2; // Qual imagem é a correta? (1, 2, 3 ou 4)
        const nextPage = "atividade_2.html"; 
        
        let selectedIndex = 0;

        function selectOption(index) {
            // Limpa seleções anteriores
            document.querySelectorAll('.card-option').forEach(el => el.classList.remove('card-selected'));
            
            // Marca a nova
            document.getElementById(`opt-${index}`).classList.add('card-selected');
            selectedIndex = index;

            // Ativa o botão Verify
            const btn = document.getElementById('btn-verify');
            btn.classList.remove('bg-slate-700', 'text-slate-400', 'cursor-not-allowed');
            btn.classList.add('bg-green-600', 'text-white', 'hover:bg-green-500', 'shadow-[0_0_20px_rgba(34,197,94,0.6)]');
            btn.disabled = false;
        }

        function checkAnswer() {
            const btn = document.getElementById('btn-verify');
            const selectedDiv = document.getElementById(`opt-${selectedIndex}`);

            if (selectedIndex === correctAnswerIndex) {
                // SUCESSO
                selectedDiv.classList.add('success-anim');
                document.getElementById('success-overlay').classList.remove('hidden');
                document.getElementById('success-overlay').classList.add('flex');
                
                // Som de sucesso (opcional)
                // new Audio('success.mp3').play();

                setTimeout(() => {
                    window.location.href = nextPage;
                }, 1500); // Espera 1.5s e muda de página
            } else {
                // ERRO
                selectedDiv.classList.add('shake-error');
                btn.classList.add('shake-error', 'bg-red-600');
                btn.innerText = "TRY AGAIN";
                
                setTimeout(() => {
                    selectedDiv.classList.remove('shake-error');
                    btn.classList.remove('shake-error', 'bg-red-600');
                    btn.classList.add('bg-green-600');
                    btn.innerText = "VERIFY";
                }, 500);
            }
        }

        function playAudio() {
            // new Audio('water.mp3').play();
            console.log("Audio tocando...");
        }
    </script>
</body>
</html>
